"use strict";angular.module("simpleWikiApp",["ngCookies","ngMaterial","ngResource","ngSanitize","ui.router","ui.bootstrap"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(a,b,c){b.otherwise("/"),c.html5Mode(!0)}]),angular.module("simpleWikiApp").controller("MainController",["$scope",function(a){}]),angular.module("simpleWikiApp").config(["$stateProvider",function(a){a.state("main",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"mainCtrl"})}]),angular.module("simpleWikiApp").controller("PageCreateController",["$scope","$http",function(a,b){function c(a){a.$valid&&b.post("/api/pages/",e.newPage).success(function(){console.log("page creation successful!")})}function d(){}var e=this;e.newPage={contentType:"markdown"},e.contentTypes={markdown:"Markdown"},e.onSubmit=c,d()}]),angular.module("simpleWikiApp").config(["$stateProvider",function(a){a.state("pages:index",{url:"/pages",templateUrl:"app/pages/index/view.html",controller:"PagesController",controllerAs:"pagesCtrl"}).state("pages:create",{url:"/pages/create",templateUrl:"app/pages/create/view.html",controller:"PageCreateController",controllerAs:"pageCreateCtrl"}).state("pages:show",{url:"/pages/:title",templateUrl:"app/pages/show/view.html",controller:"PageShowController",controllerAs:"pageShowCtrl"}).state("pages:update",{url:"/pages/:title/edit",templateUrl:"app/pages/update/view.html",controller:"PageUpdateController",controllerAs:"pageUpdateCtrl"})}]),angular.module("simpleWikiApp").controller("PagesController",["$http",function(a){function b(){d.viewingLimit+=d.viewingLimitIncrement}function c(){a.get("/api/pages").success(function(a){d.pages=a})}var d=this;d.viewingLimit=5,d.viewingLimitIncrement=10,d.incrementViewingLimit=b,c()}]),angular.module("simpleWikiApp").controller("PageShowController",["$http","$stateParams",function(a,b){function c(){a.get("/api/pages/"+b.title).success(function(a){d.page=a})}var d=this;d.page={},c()}]),angular.module("simpleWikiApp").controller("PageUpdateController",["$http","$stateParams",function(a,b){function c(b){a.put("/api/pages/"+e.page.title,e.page).success(function(a){console.log("page update successful!")})}function d(){a.get("/api/pages/"+b.title).success(function(a){e.page=a})}var e=this;e.contentTypes={markdown:"Markdown"},e.page={},e.onSubmit=c,d()}]),angular.module("simpleWikiApp").filter("markdown",function(){return function(a){return a&&a.length>0?marked(a):""}}),angular.module("simpleWikiApp").factory("Modal",["$rootScope","$modal",function(a,b){function c(c,d){var e=a.$new();return c=c||{},d=d||"modal-default",angular.extend(e,c),b.open({templateUrl:"components/modal/modal.html",windowClass:d,scope:e})}return{confirm:{"delete":function(a){return a=a||angular.noop,function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{dismissable:!0,title:"Confirm Delete",html:"<p>Are you sure you want to delete <strong>"+e+"</strong> ?</p>",buttons:[{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-danger"),b.result.then(function(b){a.apply(b,d)})}}}}}]),angular.module("simpleWikiApp").controller("NavbarCtrl",["$scope","$location",function(a,b){a.isCollapsed=!0}]),angular.module("simpleWikiApp").run(["$templateCache",function(a){a.put("app/main/main.html","<div ng-include=&quot;components/navbar/navbar.html&quot;></div><header id=banner class=hero-unit><div class=container><h1>'Allo, 'Allo!</h1><p class=lead>Kick-start your next web app with Angular Fullstack</p><img src=assets/images/d535427a.yeoman.png alt=\"I'm Yeoman\"></div></header><div class=container></div>"),a.put("app/pages/create/view.html",'<div ng-include=&quot;components/navbar/navbar.html&quot;></div><div class=container><md-content layout=row hide-md=hide-md hide-sm=hide-sm><form flex=50 name=pageCreateForm novalidate class=md-padding><legend>Create Page</legend><fieldset><div class=form-group><label for=title class=control-label>Title</label><input ng-model=pageCreateCtrl.newPage.title id=title name=title required class="form-control"></div><div class=form-group><label for=content class=control-label>Content<select ng-model=pageCreateCtrl.newPage.contentType ng-options="key as value for (key, value) in pageCreateCtrl.contentTypes"></select></label><textarea ng-model=pageCreateCtrl.newPage.content id=content name=content rows=24 required class=form-control></textarea></div></fieldset></form><form flex=50 class=md-padding><legend>Preview</legend><h1 class=headline>{{pageCreateCtrl.newPage.title}}</h1><md-content ng-bind-html="pageCreateCtrl.newPage.content | markdown"></md-content></form></md-content><md-content hide-gt-md=hide-gt-md class=md-padding><md-tabs md-dynamic-height=md-dynamic-height md-border-bottom=md-border-bottom><md-tab label=write><md-content class=md-padding><form name=pageCreateForm ng-submit=pageCreateCtrl.onSubmit(pageCreateForm) novalidate><fieldset><div class=form-group><label for=title class=control-label>Title</label><input ng-model=pageCreateCtrl.newPage.title id=title name=title required class="form-control"></div><div class=form-group><label for=content class=control-label>Content<select ng-model=pageCreateCtrl.newPage.contentType ng-options="key as value for (key, value) in pageCreateCtrl.contentTypes"></select></label><textarea ng-model=pageCreateCtrl.newPage.content id=content name=content rows=24 required class=form-control></textarea></div></fieldset></form></md-content></md-tab><md-tab label=preview ng-disabled=!pageCreateCtrl.newPage.content><h1 class=headline>{{pageCreateCtrl.newPage.title}}</h1><md-content ng-bind-html="pageCreateCtrl.newPage.content | markdown"></md-content></md-tab></md-tabs></md-content><div class=control-group><md-button ng-click=pageCreateCtrl.onSubmit(pageCreateForm) class="md-raised md-primary">Submit</md-button></div></div>'),a.put("app/pages/index/view.html",'<div ng-include=&quot;components/navbar/navbar.html&quot;></div><div class=container><h1 class=headline>Recent Articles</h1><div class=row><div ng-repeat="page in pagesCtrl.pages | limitTo:pagesCtrl.viewingLimit" class="page col-lg-12"><div class=title><a ui-sref="pages:show({title: page.title})" tooltip={{page.readableTitle}}>{{page.readableTitle}}</a></div><div class=created>{{page.created}}</div><div ng-bind-html=page.compiledContent class=content></div></div><md-button ng-hide="!pagesCtrl.pages.length || pagesCtrl.pages.length &lt;= pagesCtrl.viewingLimit" ng-click=pagesCtrl.incrementViewingLimit() class="md-raised md-primary">Show More</md-button></div></div>'),a.put("app/pages/show/view.html",'<div ng-include=&quot;components/navbar/navbar.html&quot;></div><div class=container><h1 class=md-headline>{{pageShowCtrl.page.readableTitle}}<a ui-sref="pages:update({title: pageShowCtrl.page.title})"><i class="fa fa-edit"></i></a></h1><md-content ng-bind-html=pageShowCtrl.page.compiledContent></md-content></div>'),a.put("app/pages/update/view.html",'<div ng-include=&quot;components/navbar/navbar.html&quot;></div><div class=container><md-content layout=row hide-md=hide-md hide-sm=hide-sm><form flex=50 name=pageUpdateForm novalidate class=md-padding><legend>Edit Page</legend><fieldset><div class=form-group><label for=readableTitle class=control-label>Title</label><input ng-model=pageUpdateCtrl.page.readableTitle id=readableTitle name=readableTitle required class="form-control"></div><div class=form-group><label for=content class=control-label>Content<select ng-model=pageUpdateCtrl.page.contentType ng-options="key as value for (key, value) in pageUpdateCtrl.contentTypes"></select></label><textarea ng-model=pageUpdateCtrl.page.content id=content name=content rows=24 required class=form-control></textarea></div></fieldset></form><form flex=50 class=md-padding><legend>Preview</legend><h1 class=headline>{{pageUpdateCtrl.page.readableTitle}}</h1><md-content ng-bind-html="pageUpdateCtrl.page.content | markdown"></md-content></form></md-content><md-content hide-gt-md=hide-gt-md class=md-padding><md-tabs md-dynamic-height=md-dynamic-height md-border-bottom=md-border-bottom><md-tab label=write><md-content class=md-padding><form name=pageUpdateForm ng-submit=pageUpdateCtrl.onSubmit(pageUpdateForm) novalidate><fieldset><div class=form-group><label for=readableTitle class=control-label>Title</label><input ng-model=pageUpdateCtrl.page.readableTitle id=readableTitle name=readableTitle required class="form-control"></div><div class=form-group><label for=content class=control-label>Content<select ng-model=pageUpdateCtrl.page.contentType ng-options="key as value for (key, value) in pageUpdateCtrl.contentTypes"></select></label><textarea ng-model=pageUpdateCtrl.page.content id=content name=content rows=24 required class=form-control></textarea></div></fieldset></form></md-content></md-tab><md-tab label=preview ng-disabled=!pageUpdateCtrl.page.content><h1 class=headline>{{pageUpdateCtrl.page.readableTitle}}</h1><md-content ng-bind-html="pageUpdateCtrl.page.content | markdown"></md-content></md-tab></md-tabs></md-content><div class=control-group><md-button ng-click=pageUpdateCtrl.onSubmit(pageUpdateForm) class="md-raised md-primary">Submit</md-button></div></div>'),a.put("components/footer/footer.html","<footer><div class=container></div></footer>"),a.put("components/modal/modal.html",'<div class=modal-header><button ng-if=modal.dismissable type=button ng-click=$dismiss() class=close>&times;</button><h4 ng-if=modal.title ng-bind=modal.title class=modal-title></h4></div><div class=modal-body><p ng-if=modal.text ng-bind=modal.text></p><div ng-if=modal.html ng-bind-html=modal.html></div></div><div class=modal-footer><button ng-repeat="button in modal.buttons" ng-class=button.classes ng-click=button.click($event) ng-bind=button.text class=btn></button></div>'),a.put("components/navbar/navbar.html",'<div ng-controller=NavbarCtrl class="navbar navbar-default navbar-static-top"><div class=container><div class=navbar-header><button type=button ng-click="isCollapsed = !isCollapsed" class=navbar-toggle><span class=sr-only>Toggle navigation</span><span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button><a href="/" class=navbar-brand>Simple Wiki</a></div><div id=navbar-main collapse=isCollapsed class="navbar-collapse collapse"><ul class="nav navbar-nav"><li><a ui-sref=main>Home</a></li><li><a ui-sref=pages:index>All Pages</a></li><li><a ui-sref=pages:create>Create Page</a></li></ul></div></div></div>')}]);